<html>
<head>
    <title>React App Demo</title>

    
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body>

<div id="root"></div>

<script type="text/babel">
    //  Get the items data from the server (ensuring proper JSON parsing)
    let items = JSON.parse(`<%- JSON.stringify(items) %>`);

    console.log("âœ… Received items:", items); // Debugging in browser console

    // Product List Component
    const ProductList = ({ products }) => {
        return (
            <div>
                <h2>Apple Products</h2>
                <ul>
                    {products.length > 0 ? (
                        products.map((product) => (
                            <li key={product.id}>
                                <a href={`/detail?id=${product.id}`}>{product.name}</a>
                            </li>
                        ))
                    ) : (
                        <p>No products found.</p>
                    )}
                </ul>
            </div>
        );
    };

    // Main App Component
    const App = () => {
        return <ProductList products={items} />;
    };

    // Render React App inside "root" div
    ReactDOM.render(<App />, document.getElementById('root'));
</script>

</body>
</html>
